<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ai_agents/ai_agents" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">AI Agent | Knowledge Base</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://thecodeshastra.github.io/knowledge-base/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://thecodeshastra.github.io/knowledge-base/img/logo.png"><meta data-rh="true" property="og:url" content="https://thecodeshastra.github.io/knowledge-base/docs/ai_agents"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="AI Agent | Knowledge Base"><meta data-rh="true" name="description" content="Doc Type: Notes"><meta data-rh="true" property="og:description" content="Doc Type: Notes"><link data-rh="true" rel="icon" href="/knowledge-base/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://thecodeshastra.github.io/knowledge-base/docs/ai_agents"><link data-rh="true" rel="alternate" href="https://thecodeshastra.github.io/knowledge-base/docs/ai_agents" hreflang="en"><link data-rh="true" rel="alternate" href="https://thecodeshastra.github.io/knowledge-base/docs/ai_agents" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"AI Agent","item":"https://thecodeshastra.github.io/knowledge-base/docs/ai_agents/"}]}</script><link rel="alternate" type="application/rss+xml" href="/knowledge-base/blog/rss.xml" title="Knowledge Base RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/knowledge-base/blog/atom.xml" title="Knowledge Base Atom Feed"><link rel="stylesheet" href="/knowledge-base/assets/css/styles.7c91c70b.css">
<script src="/knowledge-base/assets/js/runtime~main.4086fd6d.js" defer="defer"></script>
<script src="/knowledge-base/assets/js/main.42f7fd22.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/knowledge-base/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/knowledge-base/"><div class="navbar__logo"><img src="/knowledge-base/img/logo.png" alt="Knowledge Base Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/knowledge-base/img/logo.png" alt="Knowledge Base Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/knowledge-base/docs/intro">Knowledge Base</a><a class="navbar__item navbar__link" href="/knowledge-base/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/knowledge-base/docs/intro"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" aria-current="page" href="/knowledge-base/docs/ai_agents"><span title="AI Agent" class="categoryLinkLabel_W154">AI Agent</span></a><button aria-label="Collapse sidebar category &#x27;AI Agent&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/knowledge-base/docs/ai_agents/ai_foundation"><span title="AI Foundations" class="linkLabel_WmDU">AI Foundations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/knowledge-base/docs/ai_agents/custom_gpt"><span title="Custom GPTs" class="linkLabel_WmDU">Custom GPTs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/knowledge-base/docs/ai_agents/prompt_engineering"><span title="Prompt Engineering" class="linkLabel_WmDU">Prompt Engineering</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/knowledge-base/docs/api_design/api"><span title="api_design" class="categoryLinkLabel_W154">api_design</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/knowledge-base/docs/automation"><span title="Automation" class="linkLabel_WmDU">Automation</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/knowledge-base/docs/config_file_management"><span title="Config Management" class="categoryLinkLabel_W154">Config Management</span></a><button aria-label="Expand sidebar category &#x27;Config Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/knowledge-base/docs/containerization/docker"><span title="containerization" class="categoryLinkLabel_W154">containerization</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/knowledge-base/docs/database/dbms"><span title="database" class="categoryLinkLabel_W154">database</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/knowledge-base/docs/documentation"><span title="Documentation" class="categoryLinkLabel_W154">Documentation</span></a><button aria-label="Expand sidebar category &#x27;Documentation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/knowledge-base/docs/linux"><span title="Linux" class="categoryLinkLabel_W154">Linux</span></a><button aria-label="Expand sidebar category &#x27;Linux&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/knowledge-base/docs/others/access_disk_partition"><span title="others" class="categoryLinkLabel_W154">others</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/knowledge-base/docs/programming/coding_style"><span title="programming" class="categoryLinkLabel_W154">programming</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/knowledge-base/docs/security/api_keys"><span title="security" class="categoryLinkLabel_W154">security</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/knowledge-base/docs/version_control_system/changelog"><span title="version_control_system" class="categoryLinkLabel_W154">version_control_system</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/knowledge-base/docs/virtual_env/python_virtual_env"><span title="virtual_env" class="categoryLinkLabel_W154">virtual_env</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/knowledge-base/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">AI Agent</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>AI Agent</h1></header>
<p>Doc Type: Notes
Tags: Agent, GAME, Re-Act, Tools</p>
<p>An AI agent sits at the highest end of the AI complexity spectrum. At its core, an agent is a specific type of <strong>compound AI system</strong> where the Large Language Model (LLM) is responsible for the overall <strong>control logic</strong> and planning.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="fundamentals">Fundamentals<a href="#fundamentals" class="hash-link" aria-label="Direct link to Fundamentals" title="Direct link to Fundamentals" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-an-ai-agent-simple-explanation">What is an AI Agent? (Simple Explanation)<a href="#what-is-an-ai-agent-simple-explanation" class="hash-link" aria-label="Direct link to What is an AI Agent? (Simple Explanation)" title="Direct link to What is an AI Agent? (Simple Explanation)" translate="no">‚Äã</a></h3>
<p><strong>Basic Idea</strong></p>
<ul>
<li class=""><strong>AI Agent = LLM in a loop with tools that accomplishes goals</strong></li>
<li class="">Think of it like hiring an employee who can think, decide, and take actions autonomously</li>
<li class="">Works 24/7 without getting tired, learns from every interaction</li>
</ul>
<p><strong>Key Difference: Chatbot vs Agent</strong></p>
<ul>
<li class=""><strong>Chatbot:</strong>
<ul>
<li class="">Responds to your questions</li>
<li class="">Generates text</li>
<li class="">Stateless (no memory between conversations)</li>
<li class="">Example: ChatGPT answering &quot;What is quantum physics?&quot;</li>
</ul>
</li>
<li class=""><strong>AI Agent:</strong>
<ul>
<li class="">Takes on complete tasks/goals</li>
<li class="">Can break down complex problems into steps</li>
<li class="">Has memory and context</li>
<li class="">Takes real actions (emails, API calls, database updates)</li>
<li class="">Example: &quot;Organize my entire calendar for this month&quot; ‚Üí Agent actually does it</li>
</ul>
</li>
</ul>
<p><strong>Real-World Analogy</strong></p>
<table><thead><tr><th><strong>Thing</strong></th><th><strong>Comparison</strong></th></tr></thead><tbody><tr><td><strong>Traditional Software</strong></td><td>Vending machine - very rigid, fixed rules</td></tr><tr><td><strong>Chatbot</strong></td><td>Customer service rep reading a script</td></tr><tr><td><strong>AI Agent</strong></td><td>Talented employee who understands business, makes decisions, calls other departments, solves problems</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="-from-monolithic-models-to-compound-ai-systems">üß† From Monolithic Models to Compound AI Systems<a href="#-from-monolithic-models-to-compound-ai-systems" class="hash-link" aria-label="Direct link to üß† From Monolithic Models to Compound AI Systems" title="Direct link to üß† From Monolithic Models to Compound AI Systems" translate="no">‚Äã</a></h3>
<p>A major shift in AI is moving from <strong>monolithic models</strong> to <strong>compound AI systems.</strong></p>
<ul>
<li class=""><strong>Monolithic Model Limitations:</strong> A single model is limited by its training data. It doesn&#x27;t know personal information (like your vacation days) and can&#x27;t access live data. Adapting it requires significant investment in data and resources.</li>
<li class=""><strong>Compound AI Systems:</strong> These systems &quot;unlock the magic&quot; by integrating a model into existing processes. They are <strong>modular</strong>, combining the model with other programmatic components like:<!-- -->
<ul>
<li class="">Database search</li>
<li class="">Output verifiers</li>
<li class="">Other tools</li>
<li class="">Retrieval augmented generation (RAG)</li>
</ul>
</li>
<li class="">This system approach is often faster and easier to adapt than re-tuning a model. A very common example is <strong>Retrieval Augmented Generation (RAG)</strong>.</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="-the-ai-system-spectrum-workflows-vs-agents">üß≠ The AI System Spectrum: Workflows vs. Agents<a href="#-the-ai-system-spectrum-workflows-vs-agents" class="hash-link" aria-label="Direct link to üß≠ The AI System Spectrum: Workflows vs. Agents" title="Direct link to üß≠ The AI System Spectrum: Workflows vs. Agents" translate="no">‚Äã</a></h3>
<p>The main difference between AI systems is their <strong>control logic</strong>‚Äîhow they decide what to do.</p>
<table><thead><tr><th><strong>System Type</strong></th><th><strong>Control Logic</strong></th><th><strong>Description</strong></th><th><strong>Best For</strong></th><th><strong>Limitations</strong></th></tr></thead><tbody><tr><td><strong>Single LLM</strong></td><td>N/A (Direct Input)</td><td>A simple, single-turn request and response.</td><td>Simple, stateless tasks like summarization or translation.</td><td>No memory, no adaptability.</td></tr><tr><td><strong>Structured Workflow</strong></td><td><strong>Programmatic</strong></td><td>The path is predefined and deterministic, like code.</td><td>Repetitive, multi-step tasks that need to be predictable and auditable (e.g., compliance, data pipelines).</td><td>Rigid. It will fail if it receives a query it wasn&#x27;t programmed for</td></tr><tr><td><strong>Autonomous Agent</strong></td><td><strong>LLM-Driven</strong></td><td>An LLM is put in charge of the logic21. It uses reasoning to create and adapt a plan.</td><td>Complex, open-ended, and ambiguous tasks that require dynamic planning and adaptation.</td><td>Unpredictable outcomes, higher cost, and more complex to debug.</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-5-step-agent-problem-solving-process">The 5-Step Agent Problem-Solving Process<a href="#the-5-step-agent-problem-solving-process" class="hash-link" aria-label="Direct link to The 5-Step Agent Problem-Solving Process" title="Direct link to The 5-Step Agent Problem-Solving Process" translate="no">‚Äã</a></h3>
<p>Every AI agent follows this cycle to accomplish tasks:</p>
<p><strong>1. Get the Mission</strong></p>
<ul>
<li class="">User provides a goal: &quot;Book me a flight tomorrow from Mumbai to London&quot;</li>
<li class="">Or system triggers: &quot;New high-priority support ticket arrived&quot;</li>
</ul>
<p><strong>2. Scan the Scene</strong></p>
<ul>
<li class="">Agent gathers context:<!-- -->
<ul>
<li class="">What information do I have in memory?</li>
<li class="">What tools do I have access to?</li>
<li class="">What happened in similar situations before?</li>
<li class="">What&#x27;s the current state of the world?</li>
</ul>
</li>
</ul>
<p><strong>3. Think It Through</strong></p>
<ul>
<li class="">Agent uses LLM to reason and plan</li>
<li class="">&quot;To book a flight, I need to: (1) check your availability, (2) search flights, (3) check budget, (4) book ticket, (5) send confirmation&quot;</li>
<li class="">Creates a detailed strategy before acting</li>
</ul>
<p><strong>4. Take Action</strong></p>
<ul>
<li class="">Agent executes one step of the plan</li>
<li class="">Calls a tool: &quot;Check calendar for February 15&quot;</li>
<li class="">Receives result: &quot;You&#x27;re free that day&quot;</li>
</ul>
<p><strong>5. Observe and Iterate</strong></p>
<ul>
<li class="">Agent learns from the result</li>
<li class="">Adds new information to context</li>
<li class="">Loops back to step 3 with updated understanding</li>
<li class="">Continues until goal is achieved</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-order-status-agent">Example: Order Status Agent<a href="#example-order-status-agent" class="hash-link" aria-label="Direct link to Example: Order Status Agent" title="Direct link to Example: Order Status Agent" translate="no">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">USER: &quot;Where is my order 12345?&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">STEP 1: Mission = Find order status</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">STEP 2: Scan = I have order database, shipping API, customer context</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">STEP 3: Think = Need to: (1) Find order in DB (2) Get tracking number (3) Check shipping status</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">STEP 4: Take Action = Call database: find_order(12345)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">STEP 5: Observe = Got order details + tracking number &quot;ZYX987&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Loop back:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">STEP 3: Think = Now I need to get current shipping status</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">STEP 4: Take Action = Call shipping API: get_status(&quot;ZYX987&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">STEP 5: Observe = &quot;Out for Delivery, will arrive tomorrow&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Final: Report to user: &quot;Your order is out for delivery, arriving tomorrow!&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-to-use-agents-decision-framework">When to Use Agents (Decision Framework)<a href="#when-to-use-agents-decision-framework" class="hash-link" aria-label="Direct link to When to Use Agents (Decision Framework)" title="Direct link to When to Use Agents (Decision Framework)" translate="no">‚Äã</a></h3>
<p><strong>‚úÖ USE AGENTS FOR:</strong></p>
<ol>
<li class=""><strong>Complex, Multi-Step Tasks</strong>
<ul>
<li class="">Booking flights (search ‚Üí compare ‚Üí check budget ‚Üí book)</li>
<li class="">Customer support (understand issue ‚Üí research ‚Üí propose solution ‚Üí implement)</li>
<li class="">Report generation (gather data ‚Üí analyze ‚Üí write ‚Üí format ‚Üí publish)</li>
</ul>
</li>
<li class=""><strong>Tasks Requiring Real-Time Decisions</strong>
<ul>
<li class="">Dynamic pricing (adjust based on demand)</li>
<li class="">Fraud detection (analyze transaction in real-time)</li>
<li class="">Customer support escalation</li>
</ul>
</li>
<li class=""><strong>Repetitive, Time-Consuming Work</strong>
<ul>
<li class="">Email management (read, categorize, draft responses)</li>
<li class="">Lead qualification (score hundreds of prospects)</li>
<li class="">Data processing (transform large datasets)</li>
</ul>
</li>
<li class=""><strong>Tasks Needing Learning/Personalization</strong>
<ul>
<li class="">Product recommendations (learns preferences)</li>
<li class="">Email marketing (learns what works)</li>
<li class="">Content curation (learns interests)</li>
</ul>
</li>
<li class=""><strong>Need 24/7 Availability</strong>
<ul>
<li class="">Customer support</li>
<li class="">Monitoring systems</li>
<li class="">Automated operations</li>
</ul>
</li>
</ol>
<p><strong>‚ùå DON&#x27;T USE AGENTS FOR:</strong></p>
<ol>
<li class=""><strong>Simple, Repetitive Tasks</strong> ‚Üí Use basic automation</li>
<li class=""><strong>Tasks with Fixed Rules</strong> ‚Üí Use traditional if-then logic</li>
<li class=""><strong>High-Stakes Decisions</strong> ‚Üí Medical diagnoses, legal decisions (need human approval)</li>
<li class=""><strong>Ultra-Low Latency</strong> ‚Üí Needs sub-100ms response (agent thinking adds overhead)</li>
<li class=""><strong>No Clear ROI</strong> ‚Üí If task happens once/year, not worth building</li>
</ol>
<p><strong>4 Questions to Ask Before Building</strong></p>
<ol>
<li class="">Is the task genuinely complex (multi-step, ambiguous, adaptive)?</li>
<li class="">Will automation save significant time/resources?</li>
<li class="">Does the agent need to learn/improve over time?</li>
<li class="">What happens if the agent makes a mistake?</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-architecture">Core Architecture<a href="#core-architecture" class="hash-link" aria-label="Direct link to Core Architecture" title="Direct link to Core Architecture" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-4-essential-components">The 4 Essential Components<a href="#the-4-essential-components" class="hash-link" aria-label="Direct link to The 4 Essential Components" title="Direct link to The 4 Essential Components" translate="no">‚Äã</a></h3>
<p>Every AI agent has these 4 parts working together:</p>
<p><strong>1. üß† Brain (LLM)</strong></p>
<ul>
<li class=""><strong>What:</strong> The reasoning engine (GPT-4, Claude, Gemini, etc.)</li>
<li class=""><strong>Job:</strong> Think, reason, plan, decide</li>
<li class=""><strong>Examples:</strong> &quot;I need to search for flights ‚Üí check budget ‚Üí book ticket&quot;</li>
<li class=""><strong>It does NOT:</strong> Execute actions itself, access real data, take actions</li>
</ul>
<p><strong>2. üìù Instructions (System Prompt)</strong></p>
<ul>
<li class=""><strong>What:</strong> The agent&#x27;s &quot;constitution&quot; - guidelines and personality</li>
<li class=""><strong>Job:</strong> Tell agent who it is, how to behave, what rules to follow</li>
<li class=""><strong>Example:</strong> &quot;You are Sarah, a helpful sales assistant. Always verify customer information before making changes. If unsure, ask for clarification.&quot;</li>
<li class=""><strong>Impact:</strong> Bad prompts = bad agent. Good prompts = good agent.</li>
</ul>
<p><strong>3. ‚öôÔ∏è Control Logic (Orchestration)</strong></p>
<ul>
<li class="">
<p><strong>What:</strong> Your code that manages the agent loop</p>
</li>
<li class="">
<p><strong>Job:</strong> Decide when to call LLM, what to pass to it, what to do with output</p>
</li>
<li class="">
<p><strong>Responsibility:</strong> The actual intelligence comes from LLM, not your code</p>
</li>
<li class="">
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> goal_not_achieved</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    thought </span><span class="token operator">=</span><span class="token plain"> llm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">context </span><span class="token operator">+</span><span class="token plain"> tools_available</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> thought</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">needs_tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        result </span><span class="token operator">=</span><span class="token plain"> execute_tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">thought</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tool_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> thought</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">params</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        context </span><span class="token operator">+=</span><span class="token plain"> result</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> thought</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">final_answer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
</li>
</ul>
<p><strong>4. üõ†Ô∏è Tools (Optional but Powerful)</strong></p>
<ul>
<li class=""><strong>What:</strong> External capabilities (APIs, databases, functions)</li>
<li class=""><strong>Job:</strong> Let agent interact with real world</li>
<li class=""><strong>Examples:</strong> Gmail API, Salesforce API, calculator, web search, database queries</li>
<li class=""><strong>Without tools:</strong> Just a smart text generator. With tools: Real problem solver.</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="Ô∏è-when-to-use-an-agent-the-4-criteria-framework">‚öñÔ∏è When to Use an Agent (The 4-Criteria Framework)<a href="#Ô∏è-when-to-use-an-agent-the-4-criteria-framework" class="hash-link" aria-label="Direct link to ‚öñÔ∏è When to Use an Agent (The 4-Criteria Framework)" title="Direct link to ‚öñÔ∏è When to Use an Agent (The 4-Criteria Framework)" translate="no">‚Äã</a></h3>
<p>Agents are powerful but not always the best choice38. Before using an agent, ask these four questions:</p>
<ol>
<li class=""><strong>Is the task ambiguous or predictable?</strong>
<ul>
<li class=""><strong>Use a Workflow</strong> for <strong>predictable</strong> tasks where you can define all the rules and steps in advance.</li>
<li class=""><strong>Use an Agent</strong> for <strong>ambiguous</strong> tasks where the path is unclear, or the task requires exploration and creativity.</li>
</ul>
</li>
<li class=""><strong>Is the value of the task worth the cost?</strong>
<ul>
<li class="">Agents are expensive and can consume <strong>10 to 100 times more tokens</strong> than a simple workflow.</li>
<li class=""><strong>Use a Workflow</strong> for basic, low-value tasks (like simple customer support).</li>
<li class=""><strong>Use an Agent</strong> only for high-value tasks (like strategic planning) where the cost is justified44.</li>
</ul>
</li>
<li class=""><strong>Does the agent meet minimum capabilities?</strong>
<ul>
<li class="">Test the agent on its 3-5 key skills. For example, a coding agent <em>must</em> be able to write, fix, and validate code snippets. If it fails, scale back.</li>
</ul>
</li>
<li class=""><strong>What happens if the agent makes a mistake?</strong>
<ul>
<li class="">Evaluate the risk. <strong>Use an Agent</strong> only when the risk is manageable or easily reversible.</li>
<li class=""><strong>Avoid Agents</strong> for:<!-- -->
<ul>
<li class="">High-volume, low-margin tasks</li>
<li class="">Real-time applications (e.g., instant fraud detection)</li>
<li class="">Zero-error systems (e.g., medical or security decisions)</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-basic-agent-loop-core-idea">The Basic Agent Loop (Core Idea)<a href="#the-basic-agent-loop-core-idea" class="hash-link" aria-label="Direct link to The Basic Agent Loop (Core Idea)" title="Direct link to The Basic Agent Loop (Core Idea)" translate="no">‚Äã</a></h3>
<p>All agents follow this loop (simple or complex):</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Input</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Think (LLM)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Decide</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Act (optional)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Stop or repeat</span><br></span></code></pre></div></div>
<p>Stateless agents <strong>stop after one loop</strong>.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="agent-types">Agent Types<a href="#agent-types" class="hash-link" aria-label="Direct link to Agent Types" title="Direct link to Agent Types" translate="no">‚Äã</a></h2>
<p>Agents vary based on their capabilities and complexity. Here&#x27;s the hierarchy from simple to complex:</p>
<p><strong>Level 0: Core Reasoning System</strong></p>
<ul>
<li class=""><strong>Just LLM:</strong> No tools, no memory, no interaction</li>
<li class=""><strong>Ability:</strong> Explain concepts, plan approaches</li>
<li class=""><strong>Limitation:</strong> Doesn&#x27;t know real-time data (can&#x27;t answer &quot;What was the score last night?&quot;)</li>
<li class=""><strong>Use:</strong> Learning concepts, high-level advice</li>
</ul>
<p><strong>Level 1: Connected Problem-Solver</strong></p>
<ul>
<li class=""><strong>LLM + Tools:</strong> Can call external systems</li>
<li class=""><strong>New Ability:</strong> Access real-time data, do calculations, retrieve information</li>
<li class=""><strong>Example:</strong> &quot;What&#x27;s the score of Yankees game today?&quot; ‚Üí Uses Google Search tool ‚Üí Gets real answer</li>
<li class=""><strong>Use:</strong> Simple automation with external data access</li>
</ul>
<p><strong>Level 2: Strategic Problem-Solver</strong></p>
<ul>
<li class=""><strong>LLM + Tools + Context Management:</strong> Can break complex tasks into steps</li>
<li class=""><strong>New Ability:</strong> Plan multi-step workflows, adjust strategy based on results</li>
<li class=""><strong>Example:</strong> &quot;Find a good coffee shop halfway between office A and office B&quot;<!-- -->
<ul>
<li class="">Step 1: Calculate midpoint using Maps</li>
<li class="">Step 2: Search coffee shops in that area</li>
<li class="">Step 3: Compare options</li>
<li class="">Step 4: Recommend best one</li>
</ul>
</li>
<li class=""><strong>Use:</strong> Complex, multi-step tasks</li>
</ul>
<p><strong>Level 3: Collaborative Multi-Agent System</strong></p>
<ul>
<li class=""><strong>Multiple Agents + Orchestration:</strong> Teams of specialized agents</li>
<li class=""><strong>New Ability:</strong> Delegate work, specialize in different tasks</li>
<li class=""><strong>Example:</strong> Support team: Triage Agent ‚Üí routes to Billing/Technical/Complaint Specialist</li>
<li class=""><strong>Use:</strong> Very complex problems requiring different expertise</li>
</ul>
<p><strong>Level 4: Self-Evolving System</strong></p>
<ul>
<li class=""><strong>Agents + Learning:</strong> Can create new tools/agents on the fly</li>
<li class=""><strong>New Ability:</strong> Identify gaps in capabilities and fill them autonomously</li>
<li class=""><strong>Example:</strong> Agent realizes it needs social media monitoring ‚Üí Creates new agent for it</li>
<li class=""><strong>Use:</strong> Advanced research, long-term systems</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="Ô∏è-the-core-components-of-an-ai-agent">‚öôÔ∏è The Core Components of an AI Agent<a href="#Ô∏è-the-core-components-of-an-ai-agent" class="hash-link" aria-label="Direct link to ‚öôÔ∏è The Core Components of an AI Agent" title="Direct link to ‚öôÔ∏è The Core Components of an AI Agent" translate="no">‚Äã</a></h2>
<p>AI agents are made possible by three key capabilities:</p>
<ul>
<li class=""><strong>Reasoning:</strong> The agent uses an LLM at its core to solve problems. It is prompted to &quot;think slow&quot;, break down complex problems, and create a plan to solve them.</li>
<li class=""><strong>Action (Tools):</strong> Agents can act by using external programs called <strong>tools</strong>. The LLM decides <em>when</em> and <em>how</em> to call these tools to execute its plan. Examples of tools include:<!-- -->
<ul>
<li class="">Web or database search</li>
<li class="">A calculator</li>
<li class="">Running code</li>
<li class="">Calling other models or APIs</li>
</ul>
</li>
<li class=""><strong>Memory:</strong> This refers to the agent&#x27;s ability to access stored information. This can mean:<!-- -->
<ul>
<li class="">Its own &quot;inner logs&quot; or &quot;thought process&quot; from solving a problem.</li>
<li class="">The history of its conversation with a user, allowing for a personalized experience.</li>
</ul>
</li>
</ul>
<p>A popular agent framework is <strong>ReAct</strong>, which combines <strong>Reasoning</strong> and <strong>Acting</strong>. The LLM reasons to create a plan, acts by calling a tool, observes the tool&#x27;s output, and then reasons again to decide the next step, iterating until the problem is solved.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="react-pattern">ReAct Pattern<a href="#react-pattern" class="hash-link" aria-label="Direct link to ReAct Pattern" title="Direct link to ReAct Pattern" translate="no">‚Äã</a></h3>
<p><strong>What is ReAct?</strong></p>
<p><strong>ReAct = Reasoning + Acting</strong></p>
<p>The most popular framework for building agents. Instead of trying to solve everything in one LLM call, the agent:</p>
<ol>
<li class=""><strong>Thinks</strong> - Plans next step</li>
<li class=""><strong>Acts</strong> - Calls a tool</li>
<li class=""><strong>Observes</strong> - Gets result</li>
<li class=""><strong>Repeats</strong> - Until goal is achieved</li>
</ol>
<p>This loop is called <strong>ReAct pattern</strong> and it&#x27;s the foundation of most modern agents.</p>
<p><strong>The Loop</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Thought ‚Üí Action ‚Üí Observation ‚Üí Thought ‚Üí Action ‚Üí Observation ‚Üí ... ‚Üí Final Answer</span><br></span></code></pre></div></div>
<p><strong>Example: &quot;What&#x27;s the weather in Paris and should I bring an umbrella?&quot;</strong></p>
<p><strong>Step 1:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Thought: I need to check weather in Paris</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Action: weather_api(location=&quot;Paris&quot;)</span><br></span></code></pre></div></div>
<p><strong>Step 2:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Observation: {&quot;temperature&quot;: 12, &quot;condition&quot;: &quot;Rainy&quot;}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Thought: It&#x27;s rainy, so yes, bring umbrella</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Final Answer: Yes, bring an umbrella. It&#x27;s rainy in Paris, 12¬∞C.</span><br></span></code></pre></div></div>
<p><strong>Example 2: Travel Planning</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">User: &quot;Book me a flight to New York, organize a meeting while there, and book a hotel&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">THOUGHT: This is complex. I need to:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1. Check availability</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2. Search and book flights</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">3. Book hotel</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">4. Schedule meeting</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ACTION: Check calendar ‚Üí &quot;Available Feb 15-20&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OBSERVATION: Got dates</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">THOUGHT: Now search flights for those dates</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ACTION: Search flights ‚Üí Got options</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OBSERVATION: Best option: Feb 15 departure, Feb 20 return</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">THOUGHT: Now book hotel for 5 nights</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ACTION: Book hotel ‚Üí Confirmed</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OBSERVATION: Hotel booking confirmed</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">THOUGHT: Now schedule the meeting at the hotel</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ACTION: Create meeting ‚Üí Confirmed</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">THOUGHT: I&#x27;ve completed all tasks</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">FINAL ANSWER: &quot;Flight booked for Feb 15-20. Hotel reserved for 5 nights. Meeting scheduled for Feb 17 at 2 PM. Total cost: $800 flight + $500 hotel.&quot;</span><br></span></code></pre></div></div>
<p><strong>Why ReAct Works</strong></p>
<p><strong>Problem:</strong> Traditional LLMs are &quot;one-shot&quot; - they think once and output an answer</p>
<p><strong>Solution:</strong> ReAct gives LLMs a way to:</p>
<ul>
<li class="">
<p>‚úÖ Think multiple times</p>
</li>
<li class="">
<p>‚úÖ Get feedback from tools</p>
</li>
<li class="">
<p>‚úÖ Adjust strategy based on results</p>
</li>
<li class="">
<p>‚úÖ Handle unexpected situations</p>
</li>
<li class="">
<p>‚úÖ Improve accuracy with iteration</p>
</li>
<li class="">
<p><strong>Code Example with LiteLLM</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> litellm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> completion</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">react_agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user_query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;Simple ReAct agent using LiteLLM&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    tools </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;weather&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Get current weather&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;calendar&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Check user calendar&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;booking&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Book flights/hotels&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    context </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">    You are a helpful assistant. You have these tools: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">tools</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">    Think through the problem step by step:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">    1. THOUGHT: What do you need to do?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">    2. ACTION: Which tool to use?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">    3. OBSERVATION: What did you learn?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">    Repeat until goal is achieved.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    messages </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;system&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user_query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    max_iterations </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    iteration </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> iteration </span><span class="token operator">&lt;</span><span class="token plain"> max_iterations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># LLM thinks about what to do next</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        response </span><span class="token operator">=</span><span class="token plain"> completion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            model</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-3.5-turbo&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            messages</span><span class="token operator">=</span><span class="token plain">messages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            temperature</span><span class="token operator">=</span><span class="token number">0.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assistant_response </span><span class="token operator">=</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">choices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        messages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;assistant&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> assistant_response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Check if agent wants to use a tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;THOUGHT:&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> assistant_response </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">and</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ACTION:&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> assistant_response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)"># Parse action and execute it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)"># (In real code, you&#x27;d parse and execute actual tools)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            observation </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Tool execution result here&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            messages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;Observation: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">observation</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            iteration </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)"># Final answer reached</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> assistant_response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Max iterations reached&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Use it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">result </span><span class="token operator">=</span><span class="token plain"> react_agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Book me a flight to London next week&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tool-calling">Tool Calling<a href="#tool-calling" class="hash-link" aria-label="Direct link to Tool Calling" title="Direct link to Tool Calling" translate="no">‚Äã</a></h3>
<p><strong>Why Agents Need Tools</strong></p>
<p><strong>Problem:</strong> LLMs are pattern-matching machines, not truth machines</p>
<ul>
<li class="">They can&#x27;t access real-time data</li>
<li class="">They can&#x27;t do math reliably</li>
<li class="">They don&#x27;t know your personal information</li>
<li class="">They hallucinate when unsure</li>
</ul>
<p><strong>Solution:</strong> Connect LLMs to tools (APIs, functions, databases)</p>
<p>Now the LLM becomes:</p>
<ul>
<li class="">‚úÖ Factually accurate (uses real data)</li>
<li class="">‚úÖ Capable (can do calculations, access systems)</li>
<li class="">‚úÖ Powerful (can take real actions)</li>
</ul>
<p><strong>How Tool Calling Works</strong></p>
<p><strong>Step 1: LLM Decides a Tool is Needed</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">User: &quot;How much did I spend on Uber last month?&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">LLM: &quot;I need to check the user&#x27;s Uber account&quot;</span><br></span></code></pre></div></div>
<p><strong>Step 2: LLM Generates Structured Request</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;tool_name&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;get_uber_spending&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;parameters&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;month&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;January&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;year&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">2026</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p><strong>Step 3: System Executes Tool</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">result </span><span class="token operator">=</span><span class="token plain"> get_uber_spending</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">month</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;January&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> year</span><span class="token operator">=</span><span class="token number">2026</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Returns: {&quot;total&quot;: 245.50, &quot;trips&quot;: 12}</span><br></span></code></pre></div></div>
<p><strong>Step 4: Result Returned to LLM</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Observation: You spent $245.50 on Uber in January 2026 (12 trips)</span><br></span></code></pre></div></div>
<p><strong>Step 5: LLM Continues Reasoning</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">LLM: &quot;User spent $245.50 on Uber last month. That&#x27;s about $20/trip.&quot;</span><br></span></code></pre></div></div>
<p><strong>Defining a Tool (Schema)</strong></p>
<p>Tools must be clearly defined so LLM knows how to use them:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Example: Tool Definition</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get_user_expenses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">category</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> month</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">int</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">dict</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Get user&#x27;s spending in a category for a month.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Args:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        category: Type of spending (uber, food, entertainment, etc.)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        month: Month number (1-12)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="display:inline-block;color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    Returns:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">        {&quot;total&quot;: float, &quot;transactions&quot;: int, &quot;average&quot;: float}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Implementation here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">pass</span><br></span></code></pre></div></div>
<p>The LLM needs to understand:</p>
<ul>
<li class="">
<p>‚úÖ <strong>Name:</strong> <code>get_user_expenses</code></p>
</li>
<li class="">
<p>‚úÖ <strong>Description:</strong> What it does (get spending data)</p>
</li>
<li class="">
<p>‚úÖ <strong>Parameters:</strong> What inputs it takes (category, month)</p>
</li>
<li class="">
<p>‚úÖ <strong>Output format:</strong> What it returns (dict with total, transactions, average)</p>
</li>
<li class="">
<p><strong>Tool Calling with LiteLLM</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> litellm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> completion</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> json</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Define tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tools </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;get_weather&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;description&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Get current weather for a city&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;parameters&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;object&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;properties&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;city&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;description&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;City name&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;required&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;city&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;search_flights&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;description&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Search for flights&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;parameters&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;object&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;properties&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;from_city&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;to_city&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;date&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;description&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;YYYY-MM-DD&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;required&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;from_city&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;to_city&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;date&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Tool implementations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">get_weather</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">city</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;city&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> city</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;temp&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">22</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;condition&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Sunny&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">search_flights</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">from_city</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> to_city</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> date</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;flights&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;cheapest&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">150</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Agent with tool calling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">agent_with_tools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user_query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    messages </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user_query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    response </span><span class="token operator">=</span><span class="token plain"> completion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        model</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-4&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        messages</span><span class="token operator">=</span><span class="token plain">messages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        tools</span><span class="token operator">=</span><span class="token plain">tools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        tool_choice</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;auto&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Check if model wants to call a tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">choices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tool_calls</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        tool_call </span><span class="token operator">=</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">choices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tool_calls</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        tool_name </span><span class="token operator">=</span><span class="token plain"> tool_call</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        tool_args </span><span class="token operator">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">loads</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">tool_call</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">function</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">arguments</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Execute the tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> tool_name </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;get_weather&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            result </span><span class="token operator">=</span><span class="token plain"> get_weather</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">**</span><span class="token plain">tool_args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">elif</span><span class="token plain"> tool_name </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;search_flights&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            result </span><span class="token operator">=</span><span class="token plain"> search_flights</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">**</span><span class="token plain">tool_args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Return result to agent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        messages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;assistant&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">choices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        messages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;Tool result: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">json</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">dumps</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation">result</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Get final response</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        final_response </span><span class="token operator">=</span><span class="token plain"> completion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">model</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-4&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> messages</span><span class="token operator">=</span><span class="token plain">messages</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> final_response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">choices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">choices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Use it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">agent_with_tools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;What&#x27;s the weather in Paris and are there flights to London next week?&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="memory-systems">Memory Systems<a href="#memory-systems" class="hash-link" aria-label="Direct link to Memory Systems" title="Direct link to Memory Systems" translate="no">‚Äã</a></h3>
<p><strong>Why Memory Matters</strong></p>
<ul>
<li class=""><strong>Without memory:</strong>
<ul>
<li class="">Agent treats every conversation as brand new</li>
<li class="">Repeats the same questions</li>
<li class="">Can&#x27;t build on past learnings</li>
<li class="">No personalization</li>
</ul>
</li>
<li class=""><strong>With memory:</strong>
<ul>
<li class="">Agent remembers user preferences</li>
<li class="">Learns from past interactions</li>
<li class="">Provides personalized experience</li>
<li class="">Improves over time</li>
</ul>
</li>
</ul>
<p><strong>Two Types of Memory</strong></p>
<ol>
<li class="">
<p><strong>Short-Term Memory (Current Conversation)</strong></p>
<ul>
<li class=""><strong>What:</strong> Last few messages, current context</li>
<li class=""><strong>Where:</strong> Conversation history</li>
<li class=""><strong>Lifespan:</strong> Current session only</li>
<li class=""><strong>Example:</strong> Last 5 messages with user</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">short_term_memory </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;I like spicy food&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;assistant&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Great! I&#x27;ll remember that.&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;What restaurants do you recommend?&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;assistant&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Here are spicy restaurants...&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Long-Term Memory (Historical Context)</strong></p>
<ul>
<li class=""><strong>What:</strong> Important facts, preferences, past outcomes</li>
<li class=""><strong>Where:</strong> Database, vector database</li>
<li class=""><strong>Lifespan:</strong> Months/years</li>
<li class=""><strong>Example:</strong> User profile, past purchases, conversation history</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">long_term_memory </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user_preferences&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;food&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;spicy&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;cuisine&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Indian&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;price_range&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;moderate&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;past_interactions&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Asked about restaurants 3 times&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Booked Indian restaurant twice&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Complained about slow delivery once&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;learned_patterns&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;orders_on&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Friday nights&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;preferred_delivery_time&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;6-7 PM&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
</li>
</ol>
<ul>
<li class="">
<p><strong>Implementing Memory with LiteLLM</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> litellm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> completion</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> typing </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Dict</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">AgentWithMemory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">short_term </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Current conversation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">long_term </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)"># Stored facts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">update_short_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> content</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;Add to conversation history&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">short_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Keep only last 10 messages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">len</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">short_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">short_term </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">short_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">save_to_long_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;Store important facts&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">long_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> value</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">build_context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;Create full context for LLM&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        context </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;LONG-TERM MEMORY:\\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> key</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> value </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">long_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">items</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            context </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;- </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">key</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">value</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">\\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        context </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;\\nRECENT CONVERSATION:\\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> msg </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">short_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Last 5 messages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            context </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">msg</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string-interpolation interpolation string" style="color:rgb(255, 121, 198)">&#x27;role&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">msg</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string-interpolation interpolation string" style="color:rgb(255, 121, 198)">&#x27;content&#x27;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">\\n&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> context</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">chat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> user_message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">str</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;Process user message with memory&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">update_short_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> user_message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Build context including memory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        context </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">build_context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Call LLM with full context</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        response </span><span class="token operator">=</span><span class="token plain"> completion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            model</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-4&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            messages</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;system&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;You are helpful. Remember these facts:\\n</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">context</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> user_message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        assistant_response </span><span class="token operator">=</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">choices</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">content</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">update_short_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;assistant&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> assistant_response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Extract and save important facts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;remember&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> user_message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">lower</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">save_to_long_term</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user_preference&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> user_message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> assistant_response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Use it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">agent </span><span class="token operator">=</span><span class="token plain"> AgentWithMemory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">chat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;I like spicy Indian food&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">chat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;What restaurants do you recommend?&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Agent will remember preference and use it</span><br></span></code></pre></div></div>
</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="game-framework">GAME Framework<a href="#game-framework" class="hash-link" aria-label="Direct link to GAME Framework" title="Direct link to GAME Framework" translate="no">‚Äã</a></h2>
<p>Simple framework to design agents before building them.</p>
<p><strong>The 4 Components</strong></p>
<ol>
<li class="">
<p><strong>G - Goals &amp; Instructions</strong></p>
<ul>
<li class=""><strong>What:</strong> What the agent should achieve</li>
<li class=""><strong>Include:</strong> Purpose, constraints, rules, tone</li>
<li class=""><strong>Example:</strong></li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Goal: Qualify sales leads with 90% accuracy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Instructions:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Ask about company size, budget, timeline</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Respond within 5 minutes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Be professional but friendly</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Never promise specific features</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- If unsure, escalate to human</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>A - Actions</strong></p>
<ul>
<li class=""><strong>What:</strong> What the agent can do (not how, just what)</li>
<li class=""><strong>Example:</strong></li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Actions:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Ask question (get information)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Search database (find company info)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Fetch details (get lead history)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Create record (add to CRM)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Escalate (send to human)</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>M - Memory</strong></p>
<ul>
<li class=""><strong>What:</strong> Information the agent can access/remember</li>
<li class=""><strong>Example:</strong></li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Memory:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Conversation history with this lead</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Company profile (from database)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Past interactions (if any)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Lead scoring rules</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- FAQs for common answers</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>E - Environment</strong></p>
<ul>
<li class=""><strong>What:</strong> Where the agent runs and what it connects to</li>
<li class=""><strong>Example:</strong></li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Environment:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Slack chatbot (interface)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Salesforce API (CRM)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Company database (data)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Email system (sending)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Web search (research)</span><br></span></code></pre></div></div>
</li>
</ol>
<p><strong>Key Insight</strong></p>
<ul>
<li class=""><strong>Actions</strong> = What agent thinks it can do</li>
<li class=""><strong>Environment</strong> = How those actions actually work</li>
<li class="">This separation means you can:<!-- -->
<ul>
<li class="">Change how actions work without changing agent logic</li>
<li class="">Test locally, deploy to cloud without code changes</li>
<li class="">Swap tools (Salesforce ‚Üí HubSpot) easily</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="mate-model">MATE Model<a href="#mate-model" class="hash-link" aria-label="Direct link to MATE Model" title="Direct link to MATE Model" translate="no">‚Äã</a></h2>
<p>Framework for optimizing agent design across 4 dimensions.</p>
<p><strong>The 4 Factors</strong></p>
<ol>
<li class="">
<p><strong>M - Model Efficiency</strong></p>
<ul>
<li class=""><strong>Question:</strong> Which LLM should I use?</li>
<li class=""><strong>Strategy:</strong> Match model capability to task complexity</li>
<li class=""><strong>Trade-off:</strong> Speed/cost vs. quality</li>
<li class=""><strong>Examples:</strong>
<ul>
<li class="">Simple categorization ‚Üí Claude Haiku or GPT-3.5</li>
<li class="">Complex reasoning ‚Üí GPT-4 or Claude 3 Opus</li>
<li class="">Medium tasks ‚Üí Claude 3 Sonnet or GPT-4-Turbo</li>
</ul>
</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Use different models for different agents</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> task_complexity </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;simple&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-3.5-turbo&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Cheaper, faster</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">elif</span><span class="token plain"> task_complexity </span><span class="token operator">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;complex&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-4&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Smarter, slower</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-4-turbo&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Balanced</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>A - Action Specificity</strong></p>
<ul>
<li class=""><strong>Question:</strong> How should I define tools?</li>
<li class=""><strong>Strategy:</strong> Create narrow, specific tools (not broad ones)</li>
<li class=""><strong>Bad:</strong> <code>execute_file_operation()</code></li>
<li class=""><strong>Good:</strong> <code>read_file()</code>, <code>write_file()</code>, <code>delete_file()</code></li>
<li class=""><strong>Why:</strong> Specific tools reduce hallucination (agent won&#x27;t misuse them)</li>
</ul>
</li>
<li class="">
<p><strong>T - Token Efficiency</strong></p>
<ul>
<li class=""><strong>Question:</strong> How do I reduce costs?</li>
<li class=""><strong>Strategy:</strong> Minimize token usage without sacrificing quality</li>
<li class=""><strong>Techniques:</strong>
<ul>
<li class="">Use concise prompts</li>
<li class="">Cache common results</li>
<li class="">Summarize long contexts</li>
<li class="">Filter unnecessary information</li>
</ul>
</li>
<li class=""><strong>Example:</strong></li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Bad: Long, verbose prompt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">prompt </span><span class="token operator">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;You are a very helpful customer support assistant</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">who is knowledgeable about all products. Please try your best</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">to help the customer with their query about ordering. Be as</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">detailed and thorough as possible...&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Good: Concise prompt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">prompt </span><span class="token operator">=</span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;You are a support agent. Answer this order question: &quot;&quot;&quot;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>E - Environmental Safety</strong></p>
<ul>
<li class=""><strong>Question:</strong> How do I prevent harm?</li>
<li class=""><strong>Strategy:</strong> Constrain what agent can do</li>
<li class=""><strong>Approaches:</strong>
<ul>
<li class="">Start with read-only access</li>
<li class="">Add human approval for critical actions</li>
<li class="">Use sandboxes</li>
<li class="">Rate limit requests</li>
<li class="">Log all actions</li>
</ul>
</li>
<li class=""><strong>Example:</strong></li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Agent can read database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Agent allowed</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> get_user_info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Agent cannot delete production data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Agent blocked</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> delete_customer_records</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Agent can suggest refund but human approves</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> suggest_refund</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">$</span><span class="token number">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Human</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> approve</span><span class="token operator">/</span><span class="token plain">reject</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Then Agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> execute_refund</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> approved</span><br></span></code></pre></div></div>
</li>
</ol>
<p><strong>MATE in Practice</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Balance these 4 factors without optimizing just one:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">M (Model): Use GPT-3.5 for lead scoring (cheap)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">A (Actions): 5 specific tools (search, create, score, etc.)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">T (Token): Concise prompts, caching enabled</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">E (Safe): Read-only access, human approves refunds &gt; $100</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Result: Fast, cheap, accurate, safe agent</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="multi-agent-systems">Multi-Agent Systems<a href="#multi-agent-systems" class="hash-link" aria-label="Direct link to Multi-Agent Systems" title="Direct link to Multi-Agent Systems" translate="no">‚Äã</a></h2>
<p><strong>When Single Agent Isn&#x27;t Enough</strong></p>
<p><strong>Problem:</strong> One agent trying to do everything</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Same Agent:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Research competitive prices</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Write product description</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Take payment</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Arrange shipping</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Handle customer support</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Result: Confused, makes mistakes, forgets context</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p><strong>Solution:</strong> Team of specialized agents</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Specialized Agents:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Researcher Agent: Analyzes competitors</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Writer Agent: Writes descriptions</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Finance Agent: Handles payments</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Logistics Agent: Arranges shipping</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">- Support Agent: Helps customers</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Result: Each expert in their area, better quality</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p><strong>Single Agent vs Multi-Agent</strong></p>
<table><thead><tr><th>Challenge</th><th>Single Agent</th><th>Multi-Agent</th></tr></thead><tbody><tr><td><strong>Handling complex tasks</strong></td><td>One agent gets confused</td><td>Specialists excel</td></tr><tr><td><strong>Error detection</strong></td><td>Makes confident wrong answers</td><td>Multiple agents verify</td></tr><tr><td><strong>Processing speed</strong></td><td>Slow (sequential)</td><td>Fast (parallel)</td></tr><tr><td><strong>System failure</strong></td><td>Everything stops</td><td>Partial degradation</td></tr><tr><td><strong>Routing different tasks</strong></td><td>Expensive (same cost for all)</td><td>Smart routing (cheap tasks cheap)</td></tr><tr><td><strong>Long conversations</strong></td><td>Forgets early messages</td><td>Keeps memory separate</td></tr><tr><td><strong>Cost</strong></td><td>Cheaper</td><td>2-5x more expensive</td></tr><tr><td><strong>Complexity</strong></td><td>Simple</td><td>Complex coordination</td></tr></tbody></table>
<p><strong>When Multi-Agent Makes Sense</strong></p>
<p>‚úÖ <strong>Use Multi-Agent if:</strong></p>
<ul>
<li class="">Tasks naturally divide into specialties</li>
<li class="">You need parallel processing speed</li>
<li class="">You need validation/error checking</li>
<li class="">You can afford 2-5x cost increase</li>
<li class="">Tasks are read-heavy (not write-heavy)</li>
<li class="">You have debugging infrastructure</li>
</ul>
<p>‚ùå <strong>Don&#x27;t use Multi-Agent if:</strong></p>
<ul>
<li class="">Single agent can handle it</li>
<li class="">Ultra-fast response needed (less than 100ms)</li>
<li class="">Budget is tight</li>
<li class="">Tasks heavily interdependent</li>
<li class="">No monitoring/debugging capability</li>
</ul>
<p><strong>Multi-Agent Patterns</strong></p>
<ol>
<li class="">
<p>Hierarchical (Manager Model)</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">User Request</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Manager Agent (routes work)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚îú‚Üí Specialist Agent 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚îú‚Üí Specialist Agent 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚îî‚Üí Specialist Agent 3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Manager synthesizes ‚Üí Response</span><br></span></code></pre></div></div>
<p><strong>Use:</strong> Clear hierarchy, supervisor oversees work</p>
</li>
<li class="">
<p>Sequential (Pipeline)</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Input ‚Üí Agent 1 ‚Üí Agent 2 ‚Üí Agent 3 ‚Üí Output</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     (Research)  (Write)   (Edit)</span><br></span></code></pre></div></div>
<p><strong>Use:</strong> Linear workflows, one agent&#x27;s output is next&#x27;s input</p>
</li>
<li class="">
<p>Parallel (Teams)</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ‚îú‚Üí Agent 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Input ‚Üí‚îÄ‚îº‚Üí Agent 2 ‚Üí Aggregator Agent ‚Üí Output</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ‚îî‚Üí Agent 3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     (All work simultaneously)</span><br></span></code></pre></div></div>
<p><strong>Use:</strong> Independent tasks, combine results</p>
</li>
<li class="">
<p>Peer Network</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Agent 1 ‚Üê‚Üí Agent 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ‚Üì   ‚Üò ‚Üó   ‚Üë</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Agent 3 ‚Üê Agent 4</span><br></span></code></pre></div></div>
<p><strong>Use:</strong> Agents communicate freely, emergent behavior</p>
</li>
</ol>
<ul>
<li class="">
<p><strong>Example: Multi-Agent E-Commerce System</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> datetime</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">MultiAgentSystem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">agents </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;inventory&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> InventoryAgent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;pricing&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> PricingAgent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;payment&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> PaymentAgent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;shipping&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> ShippingAgent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;support&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> SupportAgent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">process_order</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:rgb(255, 121, 198)">&quot;&quot;&quot;Process order with multiple agents&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Inventory Agent: Check if in stock</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        inventory_ok </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">agents</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;inventory&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">check_stock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            product_id</span><span class="token operator">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">product_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            quantity</span><span class="token operator">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">qty</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> inventory_ok</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Out of stock&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Pricing Agent: Calculate dynamic price</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        price </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">agents</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;pricing&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">calculate_price</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            product_id</span><span class="token operator">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">product_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            qty</span><span class="token operator">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">qty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            customer_tier</span><span class="token operator">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">customer_tier</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Payment Agent: Process payment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        payment_ok </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">agents</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;payment&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">process</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            amount</span><span class="token operator">=</span><span class="token plain">price</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            customer_id</span><span class="token operator">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">customer_id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">not</span><span class="token plain"> payment_ok</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Payment failed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Shipping Agent: Arrange logistics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        tracking </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">agents</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;shipping&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">book_shipment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            product_id</span><span class="token operator">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">product_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            qty</span><span class="token operator">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">qty</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            address</span><span class="token operator">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">address</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># Support Agent: Send confirmation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">agents</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;support&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">send_confirmation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            customer_id</span><span class="token operator">=</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">customer_id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            tracking</span><span class="token operator">=</span><span class="token plain">tracking</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;status&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;success&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;price&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> price</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;tracking&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> tracking</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Use it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">system </span><span class="token operator">=</span><span class="token plain"> MultiAgentSystem</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">order </span><span class="token operator">=</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">process_order</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">user_request</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="frameworks--tools">Frameworks &amp; Tools<a href="#frameworks--tools" class="hash-link" aria-label="Direct link to Frameworks &amp; Tools" title="Direct link to Frameworks &amp; Tools" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-langchain">1. LangChain<a href="#1-langchain" class="hash-link" aria-label="Direct link to 1. LangChain" title="Direct link to 1. LangChain" translate="no">‚Äã</a></h3>
<p><strong>Best for:</strong> Custom agents with fine control</p>
<p><strong>Strengths:</strong></p>
<ul>
<li class="">Most flexible</li>
<li class="">Huge ecosystem</li>
<li class="">Best documentation</li>
<li class="">Easiest to get started</li>
</ul>
<p><strong>Weaknesses:</strong></p>
<ul>
<li class="">Too many options (complexity)</li>
<li class="">Requires more code</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> langchain_openai </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> ChatOpenAI</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">agents </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> initialize_agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> AgentType</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tools </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Tool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">llm </span><span class="token operator">=</span><span class="token plain"> ChatOpenAI</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">model</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-4&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tools </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Search&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> func</span><span class="token operator">=</span><span class="token plain">search_web</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> description</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Search the web&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Calculator&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> func</span><span class="token operator">=</span><span class="token plain">calculate</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> description</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Do math&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">agent </span><span class="token operator">=</span><span class="token plain"> initialize_agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">tools</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> llm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> agent_type</span><span class="token operator">=</span><span class="token plain">AgentType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">ZERO_SHOT_REACT_DESCRIPTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">result </span><span class="token operator">=</span><span class="token plain"> agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;What is 25 * 4 and who won the World Cup in 2022?&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-crewai">2. CrewAI<a href="#2-crewai" class="hash-link" aria-label="Direct link to 2. CrewAI" title="Direct link to 2. CrewAI" translate="no">‚Äã</a></h3>
<p><strong>Best for:</strong> Role-based multi-agent teams</p>
<p><strong>Strengths:</strong></p>
<ul>
<li class="">Simple role assignments</li>
<li class="">Built for teams</li>
<li class="">Good for business workflows</li>
<li class="">Easy memory management</li>
</ul>
<p><strong>Weaknesses:</strong></p>
<ul>
<li class="">Less flexible than LangGraph</li>
<li class="">Hierarchical only</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> crewai </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Task</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Crew</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">researcher </span><span class="token operator">=</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    role</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Research Analyst&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    goal</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Research topics thoroughly&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    tools</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">search_tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">writer </span><span class="token operator">=</span><span class="token plain"> Agent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    role</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content Writer&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    goal</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Write compelling content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    tools</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">document_tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">research_task </span><span class="token operator">=</span><span class="token plain"> Task</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">description</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Research AI agents&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> agent</span><span class="token operator">=</span><span class="token plain">researcher</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">write_task </span><span class="token operator">=</span><span class="token plain"> Task</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">description</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Write article&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> agent</span><span class="token operator">=</span><span class="token plain">writer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">crew </span><span class="token operator">=</span><span class="token plain"> Crew</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    agents</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">researcher</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> writer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    tasks</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">research_task</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> write_task</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">result </span><span class="token operator">=</span><span class="token plain"> crew</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">kickoff</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-langgraph">3. LangGraph<a href="#3-langgraph" class="hash-link" aria-label="Direct link to 3. LangGraph" title="Direct link to 3. LangGraph" translate="no">‚Äã</a></h3>
<p><strong>Best for:</strong> Complex state machines and workflows</p>
<p><strong>Strengths:</strong></p>
<ul>
<li class="">Full control over state</li>
<li class="">Can visualize workflows</li>
<li class="">Best for debugging</li>
<li class="">Handles complex logic</li>
</ul>
<p><strong>Weaknesses:</strong></p>
<ul>
<li class="">Steepest learning curve</li>
<li class="">More code required</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-litellm">4. LiteLLM<a href="#4-litellm" class="hash-link" aria-label="Direct link to 4. LiteLLM" title="Direct link to 4. LiteLLM" translate="no">‚Äã</a></h3>
<p><strong>Best for:</strong> Switching between LLM providers</p>
<p><strong>Strengths:</strong></p>
<ul>
<li class="">One interface for 100+ LLMs</li>
<li class="">Easy to experiment</li>
<li class="">Cost tracking</li>
<li class="">Fallback support</li>
</ul>
<p><strong>Weaknesses:</strong></p>
<ul>
<li class="">Not a complete framework</li>
<li class="">Requires your own orchestration</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> litellm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> completion</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Same code works with any LLM</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">models </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-4&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;claude-3-opus-20240229&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gemini-pro&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> model </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    response </span><span class="token operator">=</span><span class="token plain"> completion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        model</span><span class="token operator">=</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        messages</span><span class="token operator">=</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;role&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;content&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Hello&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">model</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">response</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">choices</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string-interpolation interpolation number">0</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">message</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">content</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-autogen">5. AutoGen<a href="#5-autogen" class="hash-link" aria-label="Direct link to 5. AutoGen" title="Direct link to 5. AutoGen" translate="no">‚Äã</a></h3>
<p><strong>Best for:</strong> Flexible multi-agent conversations</p>
<p><strong>Strengths:</strong></p>
<ul>
<li class="">Very flexible</li>
<li class="">Good for chatting agents</li>
<li class="">Code execution support</li>
<li class="">Microsoft-backed</li>
</ul>
<p><strong>Weaknesses:</strong></p>
<ul>
<li class="">Less structured</li>
<li class="">Harder to debug</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="framework-comparison-table">Framework Comparison Table<a href="#framework-comparison-table" class="hash-link" aria-label="Direct link to Framework Comparison Table" title="Direct link to Framework Comparison Table" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Factor</th><th>LangChain</th><th>CrewAI</th><th>LangGraph</th><th>LiteLLM</th><th>AutoGen</th></tr></thead><tbody><tr><td><strong>Ease</strong></td><td>Medium</td><td>Easy</td><td>Hard</td><td>Easy</td><td>Medium</td></tr><tr><td><strong>Multi-agent</strong></td><td>Yes</td><td>Native</td><td>Native</td><td>No</td><td>Native</td></tr><tr><td><strong>Flexibility</strong></td><td>Very High</td><td>Medium</td><td>Very High</td><td>High</td><td>High</td></tr><tr><td><strong>Learning curve</strong></td><td>Medium</td><td>Easy</td><td>Hard</td><td>Easy</td><td>Medium</td></tr><tr><td><strong>Best for</strong></td><td>Custom</td><td>Teams</td><td>Complex</td><td>Experiments</td><td>Flexible</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-pitfalls--solutions">Common Pitfalls &amp; Solutions<a href="#common-pitfalls--solutions" class="hash-link" aria-label="Direct link to Common Pitfalls &amp; Solutions" title="Direct link to Common Pitfalls &amp; Solutions" translate="no">‚Äã</a></h2>
<ol>
<li class="">
<p><strong>Hallucination (Agent Confidently Lies)</strong></p>
<p><strong>Problem:</strong> Agent makes up facts with confidence</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Agent: &quot;XYZ Company was founded in 1892 by John Smith&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Reality: Founded in 2005 by Sarah Johnson</span><br></span></code></pre></div></div>
<p><strong>Solutions:</strong></p>
<ul>
<li class="">‚úÖ Use tools to verify facts</li>
<li class="">‚úÖ Add fact-checking agent</li>
<li class="">‚úÖ Reduce temperature (more conservative)</li>
<li class="">‚úÖ Add instruction: &quot;If unsure, say &#x27;I don&#x27;t know&#x27;&quot;</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Bad: No verification</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">response </span><span class="token operator">=</span><span class="token plain"> llm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Tell me about XYZ Company&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Good: With verification</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">research </span><span class="token operator">=</span><span class="token plain"> search_web</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;XYZ Company founded&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">response </span><span class="token operator">=</span><span class="token plain"> llm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Based on this research, tell me about XYZ Company&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> context</span><span class="token operator">=</span><span class="token plain">research</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Infinite Loops (Agent Gets Stuck)</strong></p>
<p><strong>Problem:</strong> Agent keeps repeating same action</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Iteration 1: Call search tool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Iteration 2: Call search tool again (same query)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Iteration 3: Call search tool again (same query)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">... never stops</span><br></span></code></pre></div></div>
<p><strong>Solutions:</strong></p>
<ul>
<li class="">‚úÖ Set max iteration limit</li>
<li class="">‚úÖ Track previous actions, don&#x27;t repeat</li>
<li class="">‚úÖ Check if progress is being made</li>
<li class="">‚úÖ Clear termination conditions</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">max_iterations </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">iteration_count </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">previous_actions </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> iteration_count </span><span class="token operator">&lt;</span><span class="token plain"> max_iterations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    action </span><span class="token operator">=</span><span class="token plain"> agent_think</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># Don&#x27;t repeat same action</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> action </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">in</span><span class="token plain"> previous_actions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    previous_actions</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    result </span><span class="token operator">=</span><span class="token plain"> execute_action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">action</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    iteration_count </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token number">1</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Tool Misuse (Using Wrong Tool)</strong></p>
<p><strong>Problem:</strong> Agent calls wrong tool or with wrong params</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">User: &quot;How much did I spend on Uber?&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Agent calls: get_netflix_spend() instead of get_uber_spend()</span><br></span></code></pre></div></div>
<p><strong>Solutions:</strong></p>
<ul>
<li class="">‚úÖ Clear tool descriptions</li>
<li class="">‚úÖ Limit tools (don&#x27;t give 50 options)</li>
<li class="">‚úÖ Few-shot examples (&quot;When to use each tool&quot;)</li>
<li class="">‚úÖ Validation before execution</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Bad: Vague descriptions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tools </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;search&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> description</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Search&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;get_data&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> description</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Get data&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Good: Specific descriptions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tools </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;search_uber_spending&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        description</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Get Uber spending for specified month. Returns total spent and number of trips.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Tool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;search_netflix_spending&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        description</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Get Netflix spending for specified month. Returns subscription cost.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Context Overload (Confused by Too Much Info)</strong></p>
<p><strong>Problem:</strong> Agent receives too much context, forgets important parts</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Agent receives: 50 page document</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Tries to process: Everything at once</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Result: Gets lost, makes mistakes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p><strong>Solutions:</strong></p>
<ul>
<li class="">‚úÖ Summarize before passing to agent</li>
<li class="">‚úÖ Pass only relevant context</li>
<li class="">‚úÖ Break into smaller chunks</li>
<li class="">‚úÖ Use hierarchical agents (split work)</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Bad: Whole document</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">context </span><span class="token operator">=</span><span class="token plain"> full_50_page_document</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">agent_response </span><span class="token operator">=</span><span class="token plain"> llm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Good: Summarized</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">summary </span><span class="token operator">=</span><span class="token plain"> summarize_document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">full_50_page_document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">agent_response </span><span class="token operator">=</span><span class="token plain"> llm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">summary</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Better: Only relevant parts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">relevant_section </span><span class="token operator">=</span><span class="token plain"> extract_relevant_section</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">full_document</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> query</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">agent_response </span><span class="token operator">=</span><span class="token plain"> llm</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">relevant_section</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Cost Explosion (Tokens = Money)</strong></p>
<p><strong>Problem:</strong> Agent uses way more tokens than expected</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Simple query costs: $0.10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Agent processes same query: $2.00 (20x more!)</span><br></span></code></pre></div></div>
<p><strong>Reasons:</strong></p>
<ul>
<li class="">Passing unnecessary context</li>
<li class="">Multiple agents repeating work</li>
<li class="">Tool results not being cached</li>
<li class="">Agent retrying unnecessarily</li>
</ul>
<p><strong>Solutions:</strong></p>
<ul>
<li class="">‚úÖ Monitor token usage per agent</li>
<li class="">‚úÖ Cache tool results</li>
<li class="">‚úÖ Compress context</li>
<li class="">‚úÖ Use cheaper models for simple tasks</li>
<li class="">‚úÖ Batch similar requests</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> litellm </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> completion</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Track tokens</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">response </span><span class="token operator">=</span><span class="token plain"> completion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    model</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-4&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    messages</span><span class="token operator">=</span><span class="token plain">messages</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tokens_used </span><span class="token operator">=</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">usage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">total_tokens</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cost </span><span class="token operator">=</span><span class="token plain"> tokens_used </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">0.00003</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)"># Cost per token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">print</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;Tokens: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">tokens_used</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">, Cost: $</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">cost</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token string-interpolation interpolation format-spec">.4f</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Optimize</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> cost </span><span class="token operator">&gt;</span><span class="token plain"> budget</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    switch_to_cheaper_model</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;gpt-3.5-turbo&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quick-reference">Quick Reference<a href="#quick-reference" class="hash-link" aria-label="Direct link to Quick Reference" title="Direct link to Quick Reference" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-building-an-agent-remember">When Building an Agent, Remember<a href="#when-building-an-agent-remember" class="hash-link" aria-label="Direct link to When Building an Agent, Remember" title="Direct link to When Building an Agent, Remember" translate="no">‚Äã</a></h3>
<ol>
<li class=""><strong>Start simple</strong> - One agent, few tools</li>
<li class=""><strong>Test thoroughly</strong> - Real data, edge cases</li>
<li class=""><strong>Monitor everything</strong> - Tokens, errors, accuracy</li>
<li class=""><strong>Iterate fast</strong> - Small improvements add up</li>
<li class=""><strong>Add safeguards</strong> - Human approval for important actions</li>
<li class=""><strong>Document clearly</strong> - Tool descriptions matter</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-agent-development-cycle">The Agent Development Cycle<a href="#the-agent-development-cycle" class="hash-link" aria-label="Direct link to The Agent Development Cycle" title="Direct link to The Agent Development Cycle" translate="no">‚Äã</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Define Goal</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Design Agent (GAME framework)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Build MVP (5-7 core tools)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Test extensively</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Deploy with monitoring</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Iterate based on metrics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ‚Üì</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Repeat ‚Üë</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tools-to-know">Tools to Know<a href="#tools-to-know" class="hash-link" aria-label="Direct link to Tools to Know" title="Direct link to Tools to Know" translate="no">‚Äã</a></h3>
<ul>
<li class=""><strong>LangChain</strong> - Full agent framework</li>
<li class=""><strong>LiteLLM</strong> - LLM abstraction layer</li>
<li class=""><strong>CrewAI</strong> - Multi-agent teams</li>
<li class=""><strong>LangGraph</strong> - Complex state management</li>
<li class=""><strong>OpenAI API</strong> - Direct LLM access</li>
<li class=""><strong>Claude API</strong> - Alternative LLM</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="final-checklist">Final Checklist<a href="#final-checklist" class="hash-link" aria-label="Direct link to Final Checklist" title="Direct link to Final Checklist" translate="no">‚Äã</a></h3>
<p>Before building your agent, ensure you have:</p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- --> Clear problem statement</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- --> Defined success metrics</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- --> Tool list (5-7 core ones)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- --> Sample test cases</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- --> Error handling strategy</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- --> Cost estimation</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- --> Monitoring plan</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- --> Safety guardrails</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- --> Human approval gates (if critical)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- --> Documentation</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/thecodeshastra/knowledge-base/tree/main/site/../docs/ai_agents/ai_agents.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/knowledge-base/docs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/knowledge-base/docs/ai_agents/ai_foundation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AI Foundations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#fundamentals" class="table-of-contents__link toc-highlight">Fundamentals</a><ul><li><a href="#what-is-an-ai-agent-simple-explanation" class="table-of-contents__link toc-highlight">What is an AI Agent? (Simple Explanation)</a></li><li><a href="#-from-monolithic-models-to-compound-ai-systems" class="table-of-contents__link toc-highlight">üß† From Monolithic Models to Compound AI Systems</a></li><li><a href="#-the-ai-system-spectrum-workflows-vs-agents" class="table-of-contents__link toc-highlight">üß≠ The AI System Spectrum: Workflows vs. Agents</a></li><li><a href="#the-5-step-agent-problem-solving-process" class="table-of-contents__link toc-highlight">The 5-Step Agent Problem-Solving Process</a></li><li><a href="#example-order-status-agent" class="table-of-contents__link toc-highlight">Example: Order Status Agent</a></li><li><a href="#when-to-use-agents-decision-framework" class="table-of-contents__link toc-highlight">When to Use Agents (Decision Framework)</a></li></ul></li><li><a href="#core-architecture" class="table-of-contents__link toc-highlight">Core Architecture</a><ul><li><a href="#the-4-essential-components" class="table-of-contents__link toc-highlight">The 4 Essential Components</a></li><li><a href="#Ô∏è-when-to-use-an-agent-the-4-criteria-framework" class="table-of-contents__link toc-highlight">‚öñÔ∏è When to Use an Agent (The 4-Criteria Framework)</a></li><li><a href="#the-basic-agent-loop-core-idea" class="table-of-contents__link toc-highlight">The Basic Agent Loop (Core Idea)</a></li></ul></li><li><a href="#agent-types" class="table-of-contents__link toc-highlight">Agent Types</a></li><li><a href="#Ô∏è-the-core-components-of-an-ai-agent" class="table-of-contents__link toc-highlight">‚öôÔ∏è The Core Components of an AI Agent</a><ul><li><a href="#react-pattern" class="table-of-contents__link toc-highlight">ReAct Pattern</a></li><li><a href="#tool-calling" class="table-of-contents__link toc-highlight">Tool Calling</a></li><li><a href="#memory-systems" class="table-of-contents__link toc-highlight">Memory Systems</a></li></ul></li><li><a href="#game-framework" class="table-of-contents__link toc-highlight">GAME Framework</a></li><li><a href="#mate-model" class="table-of-contents__link toc-highlight">MATE Model</a></li><li><a href="#multi-agent-systems" class="table-of-contents__link toc-highlight">Multi-Agent Systems</a></li><li><a href="#frameworks--tools" class="table-of-contents__link toc-highlight">Frameworks &amp; Tools</a><ul><li><a href="#1-langchain" class="table-of-contents__link toc-highlight">1. LangChain</a></li><li><a href="#2-crewai" class="table-of-contents__link toc-highlight">2. CrewAI</a></li><li><a href="#3-langgraph" class="table-of-contents__link toc-highlight">3. LangGraph</a></li><li><a href="#4-litellm" class="table-of-contents__link toc-highlight">4. LiteLLM</a></li><li><a href="#5-autogen" class="table-of-contents__link toc-highlight">5. AutoGen</a></li><li><a href="#framework-comparison-table" class="table-of-contents__link toc-highlight">Framework Comparison Table</a></li></ul></li><li><a href="#common-pitfalls--solutions" class="table-of-contents__link toc-highlight">Common Pitfalls &amp; Solutions</a></li><li><a href="#quick-reference" class="table-of-contents__link toc-highlight">Quick Reference</a><ul><li><a href="#when-building-an-agent-remember" class="table-of-contents__link toc-highlight">When Building an Agent, Remember</a></li><li><a href="#the-agent-development-cycle" class="table-of-contents__link toc-highlight">The Agent Development Cycle</a></li><li><a href="#tools-to-know" class="table-of-contents__link toc-highlight">Tools to Know</a></li><li><a href="#final-checklist" class="table-of-contents__link toc-highlight">Final Checklist</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/knowledge-base/docs/intro">Knowledge Base</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/knowledge-base/blog">Blog</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/thecodeshastra/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/thecodeshastra" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2026 Mahendra Pawar | Sattvic-Yantra, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>