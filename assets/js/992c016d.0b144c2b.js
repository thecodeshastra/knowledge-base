"use strict";(globalThis.webpackChunksite=globalThis.webpackChunksite||[]).push([[8223],{6338(e,s,n){n.r(s),n.d(s,{assets:()=>h,contentTitle:()=>r,default:()=>o,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"security/ssh_keygen","title":"SSH Key Generation","description":"Step-by-step: Generate keys, add to GitHub, configure.","source":"@site/../docs/security/ssh_keygen.md","sourceDirName":"security","slug":"/security/ssh_keygen","permalink":"/knowledge-base/docs/security/ssh_keygen","draft":false,"unlisted":false,"editUrl":"https://github.com/thecodeshastra/knowledge-base/tree/main/site/../docs/security/ssh_keygen.md","tags":[],"version":"current","frontMatter":{"title":"SSH Key Generation"},"sidebar":"docsSidebar","previous":{"title":"SSH","permalink":"/knowledge-base/docs/security/ssh"},"next":{"title":"ChangeLog","permalink":"/knowledge-base/docs/version-control-system/changelog"}}');var t=n(4848),a=n(8453);const l={title:"SSH Key Generation"},r="SSH Key Generation & Setup",h={},d=[{value:"Step 1: Generate Key Pair",id:"step-1-generate-key-pair",level:2},{value:"Step 2: Copy Public Key to Clipboard",id:"step-2-copy-public-key-to-clipboard",level:2},{value:"Linux/macOS",id:"linuxmacos",level:3},{value:"Windows (Git Bash)",id:"windows-git-bash",level:3},{value:"Any OS",id:"any-os",level:3},{value:"Step 3: Add Key to GitHub",id:"step-3-add-key-to-github",level:2},{value:"Step 4: Create SSH Config (Optional but Recommended)",id:"step-4-create-ssh-config-optional-but-recommended",level:2},{value:"Step 5: Add Key to SSH Agent (Remember Passphrase)",id:"step-5-add-key-to-ssh-agent-remember-passphrase",level:2},{value:"Step 6: Test Connection",id:"step-6-test-connection",level:2},{value:"Multiple Keys (Advanced)",id:"multiple-keys-advanced",level:2},{value:"Rotate Old Keys",id:"rotate-old-keys",level:2},{value:"Backup Keys (Important!)",id:"backup-keys-important",level:2},{value:"Common Issues",id:"common-issues",level:2},{value:"&quot;Permission denied (publickey)&quot;",id:"permission-denied-publickey",level:3},{value:"&quot;Too many authentication failures&quot;",id:"too-many-authentication-failures",level:3},{value:"&quot;WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!&quot;",id:"warning-remote-host-identification-has-changed",level:3},{value:"Security Checklist",id:"security-checklist",level:2},{value:"Quick Commands Cheatsheet",id:"quick-commands-cheatsheet",level:2}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"ssh-key-generation--setup",children:"SSH Key Generation & Setup"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Step-by-step: Generate keys, add to GitHub, configure."})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"step-1-generate-key-pair",children:"Step 1: Generate Key Pair"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'# Generate Ed25519 key (modern, recommended)\nssh-keygen -t ed25519 -C "your.email@example.com"\n\n# OR RSA 4096 (if ed25519 not available)\nssh-keygen -t rsa -b 4096 -C "your.email@example.com"\n'})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Prompts:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"Enter file in which to save the key: ~/.ssh/github_key\nEnter passphrase (empty for no passphrase): [secure_passphrase]\nEnter same passphrase again: [secure_passphrase]\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Result:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Private key: ",(0,t.jsx)(s.code,{children:"~/.ssh/github_key"})]}),"\n",(0,t.jsxs)(s.li,{children:["Public key: ",(0,t.jsx)(s.code,{children:"~/.ssh/github_key.pub"})]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"step-2-copy-public-key-to-clipboard",children:"Step 2: Copy Public Key to Clipboard"}),"\n",(0,t.jsx)(s.h3,{id:"linuxmacos",children:"Linux/macOS"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"cat ~/.ssh/github_key.pub | pbcopy\n"})}),"\n",(0,t.jsx)(s.h3,{id:"windows-git-bash",children:"Windows (Git Bash)"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"clip < ~/.ssh/github_key.pub\n"})}),"\n",(0,t.jsx)(s.h3,{id:"any-os",children:"Any OS"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"cat ~/.ssh/github_key.pub\n# Then manually copy the output\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"step-3-add-key-to-github",children:"Step 3: Add Key to GitHub"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Go to ",(0,t.jsx)(s.strong,{children:"GitHub \u2192 Settings \u2192 SSH and GPG keys"})]}),"\n",(0,t.jsxs)(s.li,{children:["Click ",(0,t.jsx)(s.strong,{children:"New SSH key"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Title:"}),' "My MacBook" (or whatever)']}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Key type:"})," Authentication key"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Key:"})," Paste your public key"]}),"\n",(0,t.jsxs)(s.li,{children:["Click ",(0,t.jsx)(s.strong,{children:"Add SSH key"})]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Verify:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ssh -T git@github.com\n# Output: Hi username! You've successfully authenticated...\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"step-4-create-ssh-config-optional-but-recommended",children:"Step 4: Create SSH Config (Optional but Recommended)"}),"\n",(0,t.jsxs)(s.p,{children:["Create ",(0,t.jsx)(s.code,{children:"~/.ssh/config"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-config",children:"Host github\n    Hostname github.com\n    User git\n    IdentityFile ~/.ssh/github_key\n    IdentitiesOnly yes\n\nHost gitlab\n    Hostname gitlab.com\n    User git\n    IdentityFile ~/.ssh/gitlab_key\n    IdentitiesOnly yes\n\nHost myserver\n    Hostname 192.168.1.100\n    User ubuntu\n    IdentityFile ~/.ssh/server_key\n    Port 2222\n"})}),"\n",(0,t.jsx)(s.p,{children:"Set permissions:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"chmod 600 ~/.ssh/config\n"})}),"\n",(0,t.jsx)(s.p,{children:"Now use:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"git clone git@github:username/repo.git\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"step-5-add-key-to-ssh-agent-remember-passphrase",children:"Step 5: Add Key to SSH Agent (Remember Passphrase)"}),"\n",(0,t.jsx)(s.p,{children:"Avoid typing passphrase repeatedly:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'# Start agent (if not running)\neval "$(ssh-agent -s)"\n\n# Add key\nssh-add ~/.ssh/github_key\n# Asks for passphrase once\n\n# Verify\nssh-add -l\n'})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Permanent (add to shell startup):"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"~/.bashrc"})," or ",(0,t.jsx)(s.code,{children:"~/.zshrc"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'# Start SSH agent automatically\nif [ -z "$SSH_AUTH_SOCK" ]; then\n  eval "$(ssh-agent -s)" > /dev/null\n  ssh-add ~/.ssh/github_key 2>/dev/null\nfi\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"step-6-test-connection",children:"Step 6: Test Connection"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# GitHub\nssh -T git@github.com\n\n# GitLab\nssh -T git@gitlab.com\n\n# Custom server\nssh ubuntu@myserver\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"multiple-keys-advanced",children:"Multiple Keys (Advanced)"}),"\n",(0,t.jsx)(s.p,{children:"If you have multiple keys (GitHub, GitLab, server, etc.):"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Generate each key\nssh-keygen -t ed25519 -f ~/.ssh/github_key\nssh-keygen -t ed25519 -f ~/.ssh/gitlab_key\nssh-keygen -t ed25519 -f ~/.ssh/server_key\n"})}),"\n",(0,t.jsx)(s.p,{children:"Add all to agent:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ssh-add ~/.ssh/github_key\nssh-add ~/.ssh/gitlab_key\nssh-add ~/.ssh/server_key\n\n# List all\nssh-add -l\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"rotate-old-keys",children:"Rotate Old Keys"}),"\n",(0,t.jsx)(s.p,{children:"When it's time to replace an old key:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Generate new key\nssh-keygen -t ed25519 -f ~/.ssh/github_key_new\n\n# Add new key to GitHub (GitHub \u2192 Settings \u2192 SSH keys)\n\n# Remove old key from agent\nssh-add -d ~/.ssh/github_key_old\n\n# Delete old key file\nrm ~/.ssh/github_key_old*\n\n# Update config to use new key\n# ~/.ssh/config \u2192 IdentityFile ~/.ssh/github_key_new\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"backup-keys-important",children:"Backup Keys (Important!)"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Copy keys to secure location\ncp -r ~/.ssh ~/backups/ssh_keys_backup_2026-01-26\n\n# Encrypt backup (optional)\ntar czf ssh_keys_backup.tar.gz ~/.ssh/\ngpg --encrypt ssh_keys_backup.tar.gz\n"})}),"\n",(0,t.jsxs)(s.p,{children:["\u26a0\ufe0f ",(0,t.jsx)(s.strong,{children:"Never upload backups to cloud or public repos."})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,t.jsx)(s.h3,{id:"permission-denied-publickey",children:'"Permission denied (publickey)"'}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# 1. Check if key is added to agent\nssh-add -l\n\n# 2. Add it\nssh-add ~/.ssh/github_key\n\n# 3. Verify permissions (should be 600)\nls -la ~/.ssh/github_key\nchmod 600 ~/.ssh/github_key\n\n# 4. Debug\nssh -v git@github.com  # Verbose, shows what's happening\n"})}),"\n",(0,t.jsx)(s.h3,{id:"too-many-authentication-failures",children:'"Too many authentication failures"'}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Happens when SSH agent tries too many keys\n# Force specific key\nssh -i ~/.ssh/github_key -o IdentitiesOnly=yes git@github.com\n"})}),"\n",(0,t.jsx)(s.h3,{id:"warning-remote-host-identification-has-changed",children:'"WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!"'}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Server key changed (might be legitimate)\nssh-keygen -R github.com\n\n# Or manually edit\nnano ~/.ssh/known_hosts  # Remove the line for github.com\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"security-checklist",children:"Security Checklist"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\u2705 Private key permissions: ",(0,t.jsx)(s.code,{children:"chmod 600"})]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 SSH dir permissions: ",(0,t.jsx)(s.code,{children:"chmod 700"})]}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Use passphrase (not empty)"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Add to SSH agent (don't type passphrase every time)"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Don't commit keys to Git"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Rotate keys annually"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 One key per service (best practice)"}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"quick-commands-cheatsheet",children:"Quick Commands Cheatsheet"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Generate key\nssh-keygen -t ed25519 -f ~/.ssh/my_key\n\n# Copy to clipboard\ncat ~/.ssh/my_key.pub | pbcopy\n\n# Add to agent\nssh-add ~/.ssh/my_key\n\n# List loaded keys\nssh-add -l\n\n# Remove from agent\nssh-add -d ~/.ssh/my_key\n\n# Test connection\nssh -T git@github.com\n\n# Debug\nssh -v git@github.com\n"})})]})}function o(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453(e,s,n){n.d(s,{R:()=>l,x:()=>r});var i=n(6540);const t={},a=i.createContext(t);function l(e){const s=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(a.Provider,{value:s},e.children)}}}]);