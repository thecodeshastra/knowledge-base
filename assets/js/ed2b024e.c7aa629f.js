"use strict";(globalThis.webpackChunksite=globalThis.webpackChunksite||[]).push([[8691],{4293(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"others/ntfs_3g","title":"NTFS-3G Guide","description":"1. What ntfs-3g Is","source":"@site/../docs/others/ntfs_3g.md","sourceDirName":"others","slug":"/others/ntfs_3g","permalink":"/knowledge-base/docs/others/ntfs_3g","draft":false,"unlisted":false,"editUrl":"https://github.com/thecodeshastra/knowledge-base/tree/main/site/../docs/others/ntfs_3g.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Encrypt Files","permalink":"/knowledge-base/docs/others/encrypt_files"},"next":{"title":"rar CheatSheet","permalink":"/knowledge-base/docs/others/rar"}}');var d=s(4848),t=s(8453);const l={},o="NTFS-3G Guide",a={},r=[{value:"1. What ntfs-3g Is",id:"1-what-ntfs-3g-is",level:2},{value:"2. Identify NTFS Partitions",id:"2-identify-ntfs-partitions",level:2},{value:"List disks and filesystems",id:"list-disks-and-filesystems",level:3},{value:"3. Install ntfs-3g (If Needed)",id:"3-install-ntfs-3g-if-needed",level:2},{value:"Debian / Ubuntu / Mint",id:"debian--ubuntu--mint",level:3},{value:"Fedora / RHEL / CentOS",id:"fedora--rhel--centos",level:3},{value:"4. Mount NTFS Manually",id:"4-mount-ntfs-manually",level:2},{value:"4.1 Create a mount point",id:"41-create-a-mount-point",level:3},{value:"4.2 Basic read-write mount",id:"42-basic-read-write-mount",level:3},{value:"4.3 Mount with specific ownership (avoid permission issues)",id:"43-mount-with-specific-ownership-avoid-permission-issues",level:3},{value:"4.4 Mount as read-only",id:"44-mount-as-read-only",level:3},{value:"4.5 Explicitly use ntfs-3g",id:"45-explicitly-use-ntfs-3g",level:3},{value:"5. Unmount NTFS Safely",id:"5-unmount-ntfs-safely",level:2},{value:"Unmount by mount point",id:"unmount-by-mount-point",level:3},{value:"Unmount by device",id:"unmount-by-device",level:3},{value:"Force/\u201clazy\u201d unmount (use with caution)",id:"forcelazy-unmount-use-with-caution",level:3},{value:"6. Check Mount Status &amp; Info",id:"6-check-mount-status--info",level:2},{value:"Show mounted NTFS filesystems",id:"show-mounted-ntfs-filesystems",level:3},{value:"Disk usage and types",id:"disk-usage-and-types",level:3},{value:"7. Fix Common NTFS Issues",id:"7-fix-common-ntfs-issues",level:2},{value:"\u201cDirty\u201d NTFS partition",id:"dirty-ntfs-partition",level:3},{value:"Quick fix on Linux with <code>ntfsfix</code>",id:"quick-fix-on-linux-with-ntfsfix",level:3},{value:"8. Auto-Mount at Boot (fstab)",id:"8-auto-mount-at-boot-fstab",level:2},{value:"8.1 Get the UUID",id:"81-get-the-uuid",level:3},{value:"8.2 Edit <code>/etc/fstab</code>",id:"82-edit-etcfstab",level:3},{value:"9. Minimal Cheat Sheet",id:"9-minimal-cheat-sheet",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"ntfs-3g-guide",children:"NTFS-3G Guide"})}),"\n",(0,d.jsx)(n.h2,{id:"1-what-ntfs-3g-is",children:"1. What ntfs-3g Is"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ntfs-3g"})," is a userspace driver that lets Linux read and write to Windows NTFS partitions."]}),"\n",(0,d.jsxs)(n.li,{children:["It is mainly used to:","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Access files on Windows disks from Linux."}),"\n",(0,d.jsx)(n.li,{children:"Read and write external NTFS USB drives and portable disks."}),"\n",(0,d.jsx)(n.li,{children:"Enable dual-boot setups where Linux needs access to Windows partitions."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"2-identify-ntfs-partitions",children:"2. Identify NTFS Partitions"}),"\n",(0,d.jsx)(n.h3,{id:"list-disks-and-filesystems",children:"List disks and filesystems"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"lsblk -f\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Shows all disks and partitions in a tree."}),"\n",(0,d.jsxs)(n.li,{children:["Look at the ",(0,d.jsx)(n.code,{children:"FSTYPE"})," column for ",(0,d.jsx)(n.code,{children:"ntfs"})," and note the device name (e.g. ",(0,d.jsx)(n.code,{children:"/dev/sda1"}),", ",(0,d.jsx)(n.code,{children:"/dev/sdb2"}),")."]}),"\n",(0,d.jsxs)(n.li,{children:["You can also identify the partition by ",(0,d.jsx)(n.code,{children:"LABEL"})," or ",(0,d.jsx)(n.code,{children:"SIZE"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"3-install-ntfs-3g-if-needed",children:"3. Install ntfs-3g (If Needed)"}),"\n",(0,d.jsx)(n.h3,{id:"debian--ubuntu--mint",children:"Debian / Ubuntu / Mint"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo apt update\nsudo apt install ntfs-3g\n"})}),"\n",(0,d.jsx)(n.h3,{id:"fedora--rhel--centos",children:"Fedora / RHEL / CentOS"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo dnf install ntfs-3g\n# or older:\nsudo yum install ntfs-3g\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Many modern distros already include it; installation is only needed if commands fail."}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"4-mount-ntfs-manually",children:"4. Mount NTFS Manually"}),"\n",(0,d.jsx)(n.h3,{id:"41-create-a-mount-point",children:"4.1 Create a mount point"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo mkdir -p /mnt/windows\n"})}),"\n",(0,d.jsx)(n.h3,{id:"42-basic-read-write-mount",children:"4.2 Basic read-write mount"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo mount /dev/sdXN /mnt/windows\n# Example:\n# sudo mount -t /dev/sda1 /mnt/windows\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["On many systems, ",(0,d.jsx)(n.code,{children:"mount"})," automatically uses ",(0,d.jsx)(n.code,{children:"ntfs-3g"})," for NTFS."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"43-mount-with-specific-ownership-avoid-permission-issues",children:"4.3 Mount with specific ownership (avoid permission issues)"}),"\n",(0,d.jsx)(n.p,{children:"First, check your UID and GID:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"id -u\nid -g\n"})}),"\n",(0,d.jsx)(n.p,{children:"Then mount:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo mount -o uid=1000,gid=1000 /dev/sdXN /mnt/windows\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Replace ",(0,d.jsx)(n.code,{children:"1000"})," with your actual UID/GID if different."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"44-mount-as-read-only",children:"4.4 Mount as read-only"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo mount -o ro /dev/sdXN /mnt/windows\n"})}),"\n",(0,d.jsx)(n.h3,{id:"45-explicitly-use-ntfs-3g",children:"4.5 Explicitly use ntfs-3g"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo ntfs-3g /dev/sdXN /mnt/windows\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"5-unmount-ntfs-safely",children:"5. Unmount NTFS Safely"}),"\n",(0,d.jsx)(n.p,{children:"Always unmount before unplugging a drive or rebooting to avoid corruption."}),"\n",(0,d.jsx)(n.h3,{id:"unmount-by-mount-point",children:"Unmount by mount point"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo umount /mnt/windows\n"})}),"\n",(0,d.jsx)(n.h3,{id:"unmount-by-device",children:"Unmount by device"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo umount /dev/sdXN\n"})}),"\n",(0,d.jsx)(n.h3,{id:"forcelazy-unmount-use-with-caution",children:"Force/\u201clazy\u201d unmount (use with caution)"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo umount -l /mnt/windows\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Use only if the drive is \u201cbusy\u201d and you understand the risk."}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"6-check-mount-status--info",children:"6. Check Mount Status & Info"}),"\n",(0,d.jsx)(n.h3,{id:"show-mounted-ntfs-filesystems",children:"Show mounted NTFS filesystems"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"mount | grep ntfs\n"})}),"\n",(0,d.jsx)(n.h3,{id:"disk-usage-and-types",children:"Disk usage and types"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"df -hT\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Shows size, used space, and filesystem type for mounted partitions."}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"7-fix-common-ntfs-issues",children:"7. Fix Common NTFS Issues"}),"\n",(0,d.jsx)(n.h3,{id:"dirty-ntfs-partition",children:"\u201cDirty\u201d NTFS partition"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"If Windows was hibernated or crashed, Linux may mount the partition read-only."}),"\n",(0,d.jsxs)(n.li,{children:["Proper fix:","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Boot into Windows."}),"\n",(0,d.jsxs)(n.li,{children:["Do a clean shutdown or run ",(0,d.jsx)(n.code,{children:"chkdsk"})," on that drive."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"quick-fix-on-linux-with-ntfsfix",children:["Quick fix on Linux with ",(0,d.jsx)(n.code,{children:"ntfsfix"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo ntfsfix /dev/sdXN\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Fixes some common errors and schedules a full check on next Windows boot."}),"\n",(0,d.jsxs)(n.li,{children:["Not a full replacement for Windows ",(0,d.jsx)(n.code,{children:"chkdsk"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"8-auto-mount-at-boot-fstab",children:"8. Auto-Mount at Boot (fstab)"}),"\n",(0,d.jsx)(n.h3,{id:"81-get-the-uuid",children:"8.1 Get the UUID"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo blkid /dev/sdXN\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Copy the ",(0,d.jsx)(n.code,{children:'UUID="..."'})," value."]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"82-edit-etcfstab",children:["8.2 Edit ",(0,d.jsx)(n.code,{children:"/etc/fstab"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo nano /etc/fstab\n"})}),"\n",(0,d.jsx)(n.p,{children:"Add a line like:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"UUID=your_uuid_here  /mnt/windows  ntfs-3g  defaults,windows_names  0  0\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"UUID=..."})," \u2013 use the UUID you got from ",(0,d.jsx)(n.code,{children:"blkid"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"/mnt/windows"})," \u2013 must exist and will be the mount point."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ntfs-3g"})," \u2013 filesystem type/driver."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"defaults,windows_names"})," \u2013 standard options + Windows-safe filenames."]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"Save and on next boot it will auto-mount. You can test immediately with:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo mount -a\n"})}),"\n",(0,d.jsx)(n.h2,{id:"9-minimal-cheat-sheet",children:"9. Minimal Cheat Sheet"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["List partitions: ",(0,d.jsx)(n.code,{children:"lsblk -f"})]}),"\n",(0,d.jsxs)(n.li,{children:["Install (Debian/Ubuntu): ",(0,d.jsx)(n.code,{children:"sudo apt install ntfs-3g"})]}),"\n",(0,d.jsxs)(n.li,{children:["Make mount directory: ",(0,d.jsx)(n.code,{children:"sudo mkdir -p /mnt/windows"})]}),"\n",(0,d.jsxs)(n.li,{children:["Mount RW: ",(0,d.jsx)(n.code,{children:"sudo mount /dev/sdXN /mnt/windows"})]}),"\n",(0,d.jsxs)(n.li,{children:["Mount with user perms:",(0,d.jsx)(n.code,{children:"sudo mount -o uid=$(id -u),gid=$(id -g) /dev/sdXN /mnt/windows"})]}),"\n",(0,d.jsxs)(n.li,{children:["Read-only: ",(0,d.jsx)(n.code,{children:"sudo mount -o ro /dev/sdXN /mnt/windows"})]}),"\n",(0,d.jsxs)(n.li,{children:["Unmount: ",(0,d.jsx)(n.code,{children:"sudo umount /mnt/windows"})]}),"\n",(0,d.jsxs)(n.li,{children:["Quick fix: ",(0,d.jsx)(n.code,{children:"sudo ntfsfix /dev/sdXN"})]}),"\n",(0,d.jsxs)(n.li,{children:["Get UUID: ",(0,d.jsx)(n.code,{children:"sudo blkid /dev/sdXN"})]}),"\n",(0,d.jsxs)(n.li,{children:["Edit fstab: ",(0,d.jsx)(n.code,{children:"sudo nano /etc/fstab"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>l,x:()=>o});var i=s(6540);const d={},t=i.createContext(d);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);