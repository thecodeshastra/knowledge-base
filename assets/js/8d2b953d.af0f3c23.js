"use strict";(globalThis.webpackChunksite=globalThis.webpackChunksite||[]).push([[8752],{621(n,e,s){s.r(e),s.d(e,{assets:()=>r,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"config_file_management/yaml","title":"YAML Config","description":"Full form - YAML Ain\'t Markup Language","source":"@site/../docs/config_file_management/yaml.md","sourceDirName":"config_file_management","slug":"/config_file_management/yaml","permalink":"/knowledge-base/docs/config_file_management/yaml","draft":false,"unlisted":false,"editUrl":"https://github.com/thecodeshastra/knowledge-base/tree/main/site/../docs/config_file_management/yaml.md","tags":[],"version":"current","frontMatter":{"title":"YAML Config"},"sidebar":"docsSidebar","previous":{"title":"XML Config","permalink":"/knowledge-base/docs/config_file_management/xml"},"next":{"title":"Docker","permalink":"/knowledge-base/docs/containerization/docker"}}');var a=s(4848),i=s(8453);const o={title:"YAML Config"},t="YAML",r={},c=[{value:"Syntax",id:"syntax",level:2},{value:"Advanced Features",id:"advanced-features",level:2},{value:"Multi-line strings",id:"multi-line-strings",level:3},{value:"Anchors &amp; Aliases (DRY)",id:"anchors--aliases-dry",level:3},{value:"Environment variables",id:"environment-variables",level:3},{value:"Pros \u2705",id:"pros-",level:2},{value:"Cons \u274c",id:"cons-",level:2},{value:"When to Use",id:"when-to-use",level:2},{value:"Python Usage",id:"python-usage",level:2},{value:"Common Mistakes",id:"common-mistakes",level:2},{value:"Validation",id:"validation",level:2},{value:"Tools",id:"tools",level:2},{value:"YAML vs JSON Example",id:"yaml-vs-json-example",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"yaml",children:"YAML"})}),"\n",(0,a.jsxs)(e.p,{children:["Full form - YAML Ain't Markup Language\n",(0,a.jsx)(e.strong,{children:"Human-readable, comments allowed, complex hierarchies. Indentation-sensitive."})]}),"\n",(0,a.jsxs)(e.p,{children:["Previously we had ",(0,a.jsx)(e.code,{children:".yml"})," extention but since 2006 official website recommendation suggested to use ",(0,a.jsx)(e.code,{children:".yaml"})," extension\nThe ",(0,a.jsx)(e.code,{children:".yml"})," extension was originally a workaround for the filename limit in older systems like MS-DOS and early Windows."]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"syntax",children:"Syntax"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:'app: MyApp\nversion: "1.0.0"\ndebug: true\nport: 8080\n\ndatabase:\n  host: localhost\n  port: 5432\n  name: mydb\n\nfeatures:\n  - auth\n  - logging\n  - cache\n\n# This is a comment\ntimeout: 30\n'})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Data types:"})," string, number, boolean, null, array (lists), object (maps)"]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"advanced-features",children:"Advanced Features"}),"\n",(0,a.jsx)(e.h3,{id:"multi-line-strings",children:"Multi-line strings"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:"# Literal (preserves line breaks)\ndescription: |\n  Line 1\n  Line 2\n  Line 3\n\n# Folded (becomes single line)\nsummary: >\n  This is a very long string\n  that spans multiple lines\n  but becomes one line.\n"})}),"\n",(0,a.jsx)(e.h3,{id:"anchors--aliases-dry",children:"Anchors & Aliases (DRY)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:"defaults: &defaults\n  timeout: 30\n  retries: 3\n\nproduction:\n  <<: *defaults\n  host: prod.example.com\n\ndevelopment:\n  <<: *defaults\n  host: localhost\n"})}),"\n",(0,a.jsx)(e.h3,{id:"environment-variables",children:"Environment variables"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:"database_url: ${DATABASE_URL:-sqlite:///app.db}\napi_key: ${API_KEY}  # Required, will error if not set\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"pros-",children:"Pros \u2705"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Human-readable"}),"\n",(0,a.jsx)(e.li,{children:"Comments supported"}),"\n",(0,a.jsx)(e.li,{children:"Multi-line strings"}),"\n",(0,a.jsx)(e.li,{children:"Anchors & aliases (DRY)"}),"\n",(0,a.jsx)(e.li,{children:"Works with Docker/Kubernetes"}),"\n"]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"cons-",children:"Cons \u274c"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Indentation sensitive (2 or 4 spaces!)"}),"\n",(0,a.jsx)(e.li,{children:"Slower to parse than JSON"}),"\n",(0,a.jsx)(e.li,{children:"Edge cases can be confusing"}),"\n",(0,a.jsxs)(e.li,{children:["Security risk with untrusted input (use ",(0,a.jsx)(e.code,{children:"yaml.safe_load"}),")"]}),"\n"]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.strong,{children:"Docker Compose files"})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.strong,{children:"Kubernetes manifests"})}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"CI/CD pipelines"})," (GitHub Actions)"]}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.strong,{children:"Configuration with documentation"})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.strong,{children:"Complex hierarchical data"})}),"\n"]}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"python-usage",children:"Python Usage"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",children:"import yaml\n\n# Read (ALWAYS use safe_load)\nwith open('config.yaml') as f:\n    config = yaml.safe_load(f)\n\n# Write\nconfig = {'host': 'localhost', 'port': 5432}\nwith open('config.yaml', 'w') as f:\n    yaml.dump(config, f, default_flow_style=False)\n\n# Access\nhost = config['database']['host']\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"common-mistakes",children:"Common Mistakes"}),"\n",(0,a.jsxs)(e.p,{children:["\u274c ",(0,a.jsxs)(e.strong,{children:["Using ",(0,a.jsx)(e.code,{children:"yaml.load()"})," with untrusted input"]})," (security risk)"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",children:"# WRONG\nconfig = yaml.load(f)  # Can execute code!\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u2705 ",(0,a.jsxs)(e.strong,{children:["Always use ",(0,a.jsx)(e.code,{children:"yaml.safe_load()"})]})]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",children:"# RIGHT\nconfig = yaml.safe_load(f)\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u274c ",(0,a.jsx)(e.strong,{children:"Inconsistent indentation"})]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:"database:\n  host: localhost\n    port: 5432  # \u2190 Wrong! 4 spaces when parent is 2\n"})}),"\n",(0,a.jsxs)(e.p,{children:["\u2705 ",(0,a.jsx)(e.strong,{children:"Consistent 2-space indentation"})]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:"database:\n  host: localhost\n  port: 5432\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"validation",children:"Validation"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-python",children:"from pydantic import BaseModel\n\nclass Config(BaseModel):\n    app: str\n    port: int\n    debug: bool = False\n\nconfig = Config(**yaml.safe_load(f))\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"tools",children:"Tools"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"# Pretty print / format\nyq '.' config.yaml\n\n# Query values\nyq '.database.host' config.yaml\n\n# Lint YAML\nyamllint config.yaml\n\n# Validate\npython -c \"import yaml; yaml.safe_load(open('config.yaml'))\"\n"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.h2,{id:"yaml-vs-json-example",children:"YAML vs JSON Example"}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"Same config, different formats:"})}),"\n",(0,a.jsx)(e.p,{children:"YAML (readable):"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:"database:\n  host: localhost\n  port: 5432\n"})}),"\n",(0,a.jsx)(e.p,{children:"JSON (compact):"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-json",children:'{\n  "database": {\n    "host": "localhost",\n    "port": 5432\n  }\n}\n'})}),"\n",(0,a.jsx)(e.p,{children:"Both load to same Python dict."})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}},8453(n,e,s){s.d(e,{R:()=>o,x:()=>t});var l=s(6540);const a={},i=l.createContext(a);function o(n){const e=l.useContext(i);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:o(n.components),l.createElement(i.Provider,{value:e},n.children)}}}]);